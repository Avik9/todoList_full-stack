{"ast":null,"code":"var _jsxFileName = \"/Users/avik/Desktop/AVIK/SBU/Junior Year/Fall 2019/CSE 316/Homework 3/todo_hw3/src/components/list_screen/ItemsList.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { compose } from 'redux';\nimport ItemCard from './ItemCard';\nimport { firestoreConnect } from 'react-redux-firebase';\n\nclass ItemsList extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.removeListItemCard = (e, key) => {\n      console.log(\"Delete item\");\n      e.preventDefault();\n      this.props.firestore.collection(\"todoLists\").doc(this.props.todoList.id).get().then(doc => {\n        const data = doc.data();\n        data.items.splice(key, 1);\n\n        for (let i = 0; i < data.items.length; i++) {\n          data.items[i].key = i;\n        }\n\n        this.props.firestore.collection('todoLists').doc(this.props.todoList.id).update({\n          items: data.items\n        });\n      });\n    };\n\n    this.moveItemUp = (e, key) => {\n      e.preventDefault();\n\n      if (key === 0) {\n        console.log(\"It is the first item\");\n      } else {\n        this.props.firestore.collection(\"todoLists\").doc(this.props.todoList.id).get().then(doc => {\n          const data = doc.data();\n          var temp = data.items[key];\n          data.items[key] = data.items[key - 1];\n          data.items[key - 1] = temp;\n\n          for (let i = 0; i < data.items.length; i++) {\n            data.items[i].key = i;\n          }\n\n          this.props.firestore.collection('todoLists').doc(this.props.todoList.id).update({\n            items: data.items\n          });\n        });\n      }\n    };\n\n    this.moveItemDown = (e, key) => {\n      e.preventDefault();\n\n      if (key === this.props.todoList.items.length - 1) {\n        console.log(\"It is the last item\");\n      } else {\n        this.props.firestore.collection(\"todoLists\").doc(this.props.todoList.id).get().then(doc => {\n          const data = doc.data();\n          var temp = data.items[key];\n          data.items[key] = data.items[key + 1];\n          data.items[key + 1] = temp;\n\n          for (let i = 0; i < data.items.length; i++) {\n            data.items[i].key = i;\n          }\n\n          this.props.firestore.collection('todoLists').doc(this.props.todoList.id).update({\n            items: data.items\n          });\n        });\n      }\n    };\n\n    this.sortItems = (todoList, sortBy, isIncreasing) => {\n      todoList.items.sort((item1, item2) => {\n        x;\n\n        if (!isIncreasing) {\n          let temp = item1;\n          item1 = item2;\n          item2 = temp;\n        }\n\n        if (item1[sortBy] < item2[sortBy]) return -1;else if (item1[sortBy] > item2[sortBy]) return 1;else return 0;\n      });\n\n      for (let i = 0; i < todoList.items.length; i++) {\n        todoList.items[i].key = i;\n      }\n\n      this.props.firestore.collection('todoLists').doc(this.props.todoList.id).update({\n        items: todoList.items,\n        isIncreasing: !isIncreasing\n      });\n    };\n  }\n\n  render() {\n    const todoList = this.props.todoList;\n    const items = todoList.items;\n    console.log(\"ItemsList: todoList.id \" + todoList.id);\n    return React.createElement(\"div\", {\n      className: \"todo-lists section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"list_item_header_card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"list_item_task_header col s3 header\",\n      onClick: () => this.sortItems(todoList, \"description\", todoList.isIncreasing),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"Task\"), React.createElement(\"div\", {\n      className: \"list_item_due_date_header col s3 header\",\n      onClick: () => this.sortItems(todoList, \"due_date\", todoList.isIncreasing),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"Due Date\"), React.createElement(\"div\", {\n      className: \"list_item_status_header col s3 header\",\n      onClick: () => this.sortItems(todoList, \"completed\", todoList.isIncreasing),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"Status\")), items && items.map(item => React.createElement(Link, {\n      to: '/todoList/' + todoList.id + '/' + item.key,\n      key: item.key,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(ItemCard, {\n      todoList: todoList,\n      item: item,\n      moveDown: this.moveItemDown,\n      moveUp: this.moveItemUp,\n      deleteItem: this.removeListItemCard,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const todoList = ownProps.todoList;\n  return {\n    todoList,\n    auth: state.firebase.auth\n  };\n};\n\nexport default compose(connect(mapStateToProps), firestoreConnect([{\n  collection: 'todoLists'\n}]))(ItemsList);","map":{"version":3,"sources":["/Users/avik/Desktop/AVIK/SBU/Junior Year/Fall 2019/CSE 316/Homework 3/todo_hw3/src/components/list_screen/ItemsList.js"],"names":["React","connect","Link","compose","ItemCard","firestoreConnect","ItemsList","Component","removeListItemCard","e","key","console","log","preventDefault","props","firestore","collection","doc","todoList","id","get","then","data","items","splice","i","length","update","moveItemUp","temp","moveItemDown","sortItems","sortBy","isIncreasing","sort","item1","item2","x","render","map","item","mapStateToProps","state","ownProps","auth","firebase"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { compose } from 'redux';\nimport ItemCard from './ItemCard';\nimport { firestoreConnect } from 'react-redux-firebase';\n\nclass ItemsList extends React.Component {\n    removeListItemCard = (e, key) => {\n        console.log(\"Delete item\");\n\n        e.preventDefault();\n\n        this.props.firestore.collection(\"todoLists\")\n            .doc(this.props.todoList.id)\n            .get()\n            .then(doc => {\n                const data = doc.data();\n                data.items.splice(key, 1);\n\n                for (let i = 0; i < data.items.length; i++) {\n                    data.items[i].key = i;\n                }\n\n                this.props.firestore.collection('todoLists').doc(this.props.todoList.id).update(\n                    { items: data.items }\n                )\n            }\n            );\n    }\n\n    moveItemUp = (e, key) => {\n        e.preventDefault();\n\n        if (key === 0) {\n            console.log(\"It is the first item\")\n        }\n        else {\n            this.props.firestore.collection(\"todoLists\")\n                .doc(this.props.todoList.id)\n                .get()\n                .then(doc => {\n                    const data = doc.data();\n                    var temp = data.items[key];\n                    data.items[key] = data.items[key - 1];\n                    data.items[key - 1] = temp;\n\n                    for (let i = 0; i < data.items.length; i++) {\n                        data.items[i].key = i;\n                    }\n\n                    this.props.firestore.collection('todoLists').doc(this.props.todoList.id).update(\n                        { items: data.items }\n                    )\n                });\n        }\n    }\n\n    moveItemDown = (e, key) => {\n        e.preventDefault();\n\n        if (key === this.props.todoList.items.length - 1) {\n            console.log(\"It is the last item\")\n        }\n        else {\n            this.props.firestore.collection(\"todoLists\")\n                .doc(this.props.todoList.id)\n                .get()\n                .then(doc => {\n                    const data = doc.data();\n                    var temp = data.items[key];\n                    data.items[key] = data.items[key + 1];\n                    data.items[key + 1] = temp;\n\n                    for (let i = 0; i < data.items.length; i++) {\n                        data.items[i].key = i;\n                    }\n\n                    this.props.firestore.collection('todoLists').doc(this.props.todoList.id).update(\n                        { items: data.items }\n                    )\n                });\n        }\n    }\n\n    sortItems = (todoList, sortBy, isIncreasing) => {\n        todoList.items.sort(\n            (item1, item2) => {\nx\n                if (!isIncreasing) {\n                    let temp = item1;\n                    item1 = item2;\n                    item2 = temp;\n                }\n\n                if (item1[sortBy] < item2[sortBy]) return -1;\n                else if (item1[sortBy] > item2[sortBy]) return 1;\n                else return 0;\n            });\n\n        for (let i = 0; i < todoList.items.length; i++) {\n            todoList.items[i].key = i;\n        }\n\n        this.props.firestore.collection('todoLists').doc(this.props.todoList.id).update(\n            {\n                items: todoList.items,\n                isIncreasing: !isIncreasing,\n            }\n        )\n\n    };\n\n    render() {\n        const todoList = this.props.todoList;\n        const items = todoList.items;\n        console.log(\"ItemsList: todoList.id \" + todoList.id);\n        return (\n            <div className=\"todo-lists section\">\n                <div className=\"list_item_header_card\">\n                    <div className=\"list_item_task_header col s3 header\" onClick={() => this.sortItems(todoList, \"description\", todoList.isIncreasing)}>Task</div>\n                    <div className=\"list_item_due_date_header col s3 header\" onClick={() => this.sortItems(todoList, \"due_date\", todoList.isIncreasing)}>Due Date</div>\n                    <div className=\"list_item_status_header col s3 header\" onClick={() => this.sortItems(todoList, \"completed\", todoList.isIncreasing)}>Status</div>\n                </div>\n                {items && items.map(item => (\n                    <Link to={'/todoList/' + todoList.id + '/' + item.key} key={item.key}>\n                        <ItemCard todoList={todoList} item={item} moveDown={this.moveItemDown} moveUp={this.moveItemUp} deleteItem={this.removeListItemCard} />\n                    </Link>\n                ))}\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    const todoList = ownProps.todoList;\n    return {\n        todoList,\n        auth: state.firebase.auth,\n    };\n};\n\nexport default compose(\n    connect(mapStateToProps),\n    firestoreConnect([\n        { collection: 'todoLists' },\n    ]),\n)(ItemsList);"]},"metadata":{},"sourceType":"module"}