{"ast":null,"code":"var _jsxFileName = \"/Users/avik/Desktop/AVIK/SBU/Junior Year/Fall 2019/CSE 316/Homework 3/todo_hw3/src/components/list_screen/ItemsList.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { compose } from 'redux';\nimport ItemCard from './ItemCard';\nimport { firestoreConnect } from 'react-redux-firebase';\n\nclass ItemsList extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.removeListItemCard = (e, key) => {\n      console.log(\"Delete item\"); // var x = this.props.data;\n      // console.log(\"Checking: \" + x)\n\n      this.props.firestore.collection('todoLists').doc(this.props.todoList.id).update({\n        items: this.props.firestore.FieldValue.arrayRemove(this.props)\n      });\n      e.preventDefault();\n    };\n\n    this.moveItemUp = (e, key) => {\n      console.log(\"Move item up\");\n      e.preventDefault();\n      this.props.firestore.collection(\"todoLists\").doc(this.props.todoList.id).get().then(doc => {\n        const data = doc.data();\n        var temp = data.items[key];\n        data.items[key] = data.items[key - 1];\n        data.items[key - 1] = temp;\n\n        for (let i = 0; i < data.items.length; i++) {\n          data.items[i].key = i;\n        }\n\n        this.props.firestore.collection('todoLists').doc(this.props.todoList.id).update({\n          items: data.items\n        });\n      });\n    };\n\n    this.moveItemDown = (e, key) => {\n      console.log(\"Move item down\");\n      e.preventDefault();\n    };\n  }\n\n  render() {\n    const todoList = this.props.todoList;\n    const items = todoList.items;\n    console.log(\"ItemsList: todoList.id \" + todoList.id);\n    return React.createElement(\"div\", {\n      className: \"todo-lists section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, items && items.map(item => React.createElement(Link, {\n      to: '/todoList/' + todoList.id + '/' + item.key,\n      key: item.key,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(ItemCard, {\n      todoList: todoList,\n      item: item,\n      moveDown: this.moveItemDown,\n      moveUp: this.moveItemUp,\n      deleteItem: this.removeListItemCard,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const todoList = ownProps.todoList;\n  return {\n    todoList,\n    auth: state.firebase.auth\n  };\n};\n\nexport default compose(connect(mapStateToProps), firestoreConnect([{\n  collection: 'todoLists'\n}]))(ItemsList);","map":{"version":3,"sources":["/Users/avik/Desktop/AVIK/SBU/Junior Year/Fall 2019/CSE 316/Homework 3/todo_hw3/src/components/list_screen/ItemsList.js"],"names":["React","connect","Link","compose","ItemCard","firestoreConnect","ItemsList","Component","removeListItemCard","e","key","console","log","props","firestore","collection","doc","todoList","id","update","items","FieldValue","arrayRemove","preventDefault","moveItemUp","get","then","data","temp","i","length","moveItemDown","render","map","item","mapStateToProps","state","ownProps","auth","firebase"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,OAAT,QAAwB,OAAxB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,SAASC,gBAAT,QAAiC,sBAAjC;;AAEA,MAAMC,SAAN,SAAwBN,KAAK,CAACO,SAA9B,CAAwC;AAAA;AAAA;;AAAA,SACpCC,kBADoC,GACf,CAACC,CAAD,EAAIC,GAAJ,KAAY;AAC7BC,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAD6B,CAG7B;AACA;;AAEA,WAAKC,KAAL,CAAWC,SAAX,CAAqBC,UAArB,CAAgC,WAAhC,EAA6CC,GAA7C,CAAiD,KAAKH,KAAL,CAAWI,QAAX,CAAoBC,EAArE,EAAyEC,MAAzE,CAAgF;AAC5EC,QAAAA,KAAK,EAAE,KAAKP,KAAL,CAAWC,SAAX,CAAqBO,UAArB,CAAgCC,WAAhC,CAA4C,KAAKT,KAAjD;AADqE,OAAhF;AAIAJ,MAAAA,CAAC,CAACc,cAAF;AACH,KAZmC;;AAAA,SAcpCC,UAdoC,GAcvB,CAACf,CAAD,EAAIC,GAAJ,KAAY;AACrBC,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AAEAH,MAAAA,CAAC,CAACc,cAAF;AAEA,WAAKV,KAAL,CAAWC,SAAX,CAAqBC,UAArB,CAAgC,WAAhC,EACCC,GADD,CACK,KAAKH,KAAL,CAAWI,QAAX,CAAoBC,EADzB,EAECO,GAFD,GAGCC,IAHD,CAGMV,GAAG,IAAI;AACT,cAAMW,IAAI,GAAGX,GAAG,CAACW,IAAJ,EAAb;AACA,YAAIC,IAAI,GAAGD,IAAI,CAACP,KAAL,CAAWV,GAAX,CAAX;AACAiB,QAAAA,IAAI,CAACP,KAAL,CAAWV,GAAX,IAAkBiB,IAAI,CAACP,KAAL,CAAWV,GAAG,GAAC,CAAf,CAAlB;AACAiB,QAAAA,IAAI,CAACP,KAAL,CAAWV,GAAG,GAAC,CAAf,IAAoBkB,IAApB;;AAEA,aAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAACF,IAAI,CAACP,KAAL,CAAWU,MAA5B,EAAoCD,CAAC,EAArC,EACA;AACIF,UAAAA,IAAI,CAACP,KAAL,CAAWS,CAAX,EAAcnB,GAAd,GAAoBmB,CAApB;AACH;;AAED,aAAKhB,KAAL,CAAWC,SAAX,CAAqBC,UAArB,CAAgC,WAAhC,EAA6CC,GAA7C,CAAiD,KAAKH,KAAL,CAAWI,QAAX,CAAoBC,EAArE,EAAyEC,MAAzE,CACI;AAACC,UAAAA,KAAK,EAAEO,IAAI,CAACP;AAAb,SADJ;AAGP,OAjBG;AAkBH,KArCmC;;AAAA,SAuCpCW,YAvCoC,GAuCrB,CAACtB,CAAD,EAAIC,GAAJ,KAAY;AACvBC,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AAGAH,MAAAA,CAAC,CAACc,cAAF;AACH,KA5CmC;AAAA;;AA8CpCS,EAAAA,MAAM,GAAG;AACL,UAAMf,QAAQ,GAAG,KAAKJ,KAAL,CAAWI,QAA5B;AACA,UAAMG,KAAK,GAAGH,QAAQ,CAACG,KAAvB;AACAT,IAAAA,OAAO,CAACC,GAAR,CAAY,4BAA4BK,QAAQ,CAACC,EAAjD;AACA,WACI;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKE,KAAK,IAAIA,KAAK,CAACa,GAAN,CAAUC,IAAI,IACpB,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAE,eAAejB,QAAQ,CAACC,EAAxB,GAA6B,GAA7B,GAAmCgB,IAAI,CAACxB,GAAlD;AAAuD,MAAA,GAAG,EAAEwB,IAAI,CAACxB,GAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,QAAD;AAAU,MAAA,QAAQ,EAAEO,QAApB;AAA8B,MAAA,IAAI,EAAEiB,IAApC;AAA0C,MAAA,QAAQ,EAAE,KAAKH,YAAzD;AAAuE,MAAA,MAAM,EAAE,KAAKP,UAApF;AAAgG,MAAA,UAAU,EAAE,KAAKhB,kBAAjH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADM,CADd,CADJ;AASH;;AA3DmC;;AA8DxC,MAAM2B,eAAe,GAAG,CAACC,KAAD,EAAQC,QAAR,KAAqB;AACzC,QAAMpB,QAAQ,GAAGoB,QAAQ,CAACpB,QAA1B;AACA,SAAO;AACHA,IAAAA,QADG;AAEHqB,IAAAA,IAAI,EAAEF,KAAK,CAACG,QAAN,CAAeD;AAFlB,GAAP;AAIH,CAND;;AAQA,eAAenC,OAAO,CAClBF,OAAO,CAACkC,eAAD,CADW,EAElB9B,gBAAgB,CAAC,CACb;AAAEU,EAAAA,UAAU,EAAE;AAAd,CADa,CAAD,CAFE,CAAP,CAKbT,SALa,CAAf","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { compose } from 'redux';\nimport ItemCard from './ItemCard';\nimport { firestoreConnect } from 'react-redux-firebase';\n\nclass ItemsList extends React.Component {\n    removeListItemCard = (e, key) => {\n        console.log(\"Delete item\");\n\n        // var x = this.props.data;\n        // console.log(\"Checking: \" + x)\n\n        this.props.firestore.collection('todoLists').doc(this.props.todoList.id).update({\n            items: this.props.firestore.FieldValue.arrayRemove(this.props)\n        });\n\n        e.preventDefault();\n    }\n\n    moveItemUp = (e, key) => {\n        console.log(\"Move item up\");\n\n        e.preventDefault();\n\n        this.props.firestore.collection(\"todoLists\")\n        .doc(this.props.todoList.id)\n        .get()\n        .then(doc => {\n            const data = doc.data();\n            var temp = data.items[key];\n            data.items[key] = data.items[key-1];\n            data.items[key-1] = temp;\n\n            for(let i = 0; i<data.items.length; i++)\n            {\n                data.items[i].key = i;\n            }\n\n            this.props.firestore.collection('todoLists').doc(this.props.todoList.id).update(\n                {items: data.items}\n        )\n    });\n    }\n\n    moveItemDown = (e, key) => {\n        console.log(\"Move item down\");\n\n        \n        e.preventDefault();\n    }\n\n    render() {\n        const todoList = this.props.todoList;\n        const items = todoList.items;\n        console.log(\"ItemsList: todoList.id \" + todoList.id);\n        return (\n            <div className=\"todo-lists section\">\n                {items && items.map(item => ( \n                    <Link to={'/todoList/' + todoList.id + '/' + item.key} key={item.key}>\n                        <ItemCard todoList={todoList} item={item} moveDown={this.moveItemDown} moveUp={this.moveItemUp} deleteItem={this.removeListItemCard} />\n                    </Link>\n                ))}\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    const todoList = ownProps.todoList;\n    return {\n        todoList,\n        auth: state.firebase.auth,\n    };\n};\n\nexport default compose(\n    connect(mapStateToProps),\n    firestoreConnect([\n        { collection: 'todoLists' },\n    ]),\n)(ItemsList);"]},"metadata":{},"sourceType":"module"}